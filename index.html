<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title></title>
    <script
            src="https://code.jquery.com/jquery-2.2.4.min.js"
            integrity="sha256-BbhdlvQf/xTY9gja0Dq3HiwQF8LaCRTXxZKRutelT44="
            crossorigin="anonymous"></script>
</head>
<body>
    <h1>Proxy for posting to Eloqua form using AJAX</h1>
    <h2>Enable CORS in Express.js & node.js</h2>
    <button onclick="sendData()">Click to Test</button>

    <form>
        <input type="hidden" name="elqFormName" value="testProxy" />
        <input type="hidden" name="elqSiteID" value="1684" />
        <input type="text" name="emailAddress" />
        <input type="submit" value="Submit Data"/>
    </form>

    <script type="text/javascript">

        $('form').on('submit', function(e){
            e.preventDefault();
            var dataString = $(this).serialize();
            sendData(dataString);
        });

        function sendData(dataString){
            $.ajax({
                type: "POST",
                url: "/",
                data: dataString
            }).done(function(response){
                console.log(response);
            });
        }

    </script>

</body>
</html>